<!-- Auto Generated - Do Not Edit -->
# PortKey

<p align="center">
  <img width="200" src="/public/logo.png" />
</p>

<p align="center">
  <strong>PortKey: простая, практичная стратегия именования портов</strong>
</p>

<p align="center">
  <!-- LANGUAGES=("cn" "es" "fr" "de" "ja" "ko" "ru" "ar" "pt" "it") -->
  <a href="./docs/README.cn.md">中文</a> | <a href="./docs/README.es.md">Español</a> | <a href="./docs/README.fr.md">Français</a> | <a href="./docs/README.de.md">Deutsch</a> | <a href="./docs/README.ja.md">日本語</a> | <a href="./docs/README.ko.md">한국어</a> | <a href="./docs/README.ru.md">Русский</a> | <a href="./docs/README.ar.md">العربية</a> | <a href="./docs/README.pt.md">Português</a> | <a href="./docs/README.it.md">Italiano</a>
</p>

## Кратко

Генерация портов с помощью сопоставления букв клавиатуры с цифрами.

Когда вы запускаете несколько проектов локально, выбор номеров портов становится раздражающим.

- За последние пару лет появилось *так много* новых проектов. Чтобы действительно их протестировать, часто нужно запустить их локально — и тогда порты начинают конфликтовать.
- Если вы хотите, чтобы вкладки браузера (или закладки) оставались стабильными, порт проекта не должен постоянно меняться.

Например, у меня на машине более десяти приложений Nuxt. Если все они по умолчанию используют `3000`, это, конечно, не сработает. Поэтому я придумал простое и последовательное правило именования портов — «назначать» порты каждому проекту.

[Исходный пост в блоге](https://lionad.art/articles/simple-naming-method)

### Основная идея

Вместо выбора случайных чисел сопоставьте **название проекта с цифрами на основе клавиатуры**, чтобы порт был *читаемым* и *запоминающимся*.

Пока результат находится в допустимом диапазоне портов (**0–65535**) и не попадает в зарезервированные/системные порты, его можно использовать.

Более конкретно: используя стандартную клавиатуру QWERTY, сопоставьте каждой букве одну цифру в зависимости от её **позиции по строке/столбцу**.

Пример:

`"cfetch"` → `c(3) f(4) e(3) t(5) c(3) h(6)` → `34353`（номер порта）

Затем вы можете взять первые 4 цифры (например, `3453`), или оставить больше цифр (например, `34353`). Оба варианта допустимы.

Если проект требует несколько портов (frontend, backend, база данных и т.д.), выберите **один** из следующих подходов:

1. Использовать префикс проекта, а затем добавить «суффикс роли»  
   - Для `"cfetch"` берём `3435` как основу  
   - Frontend (`fe`, т.е. `43`) → `34354`  
   - Backend (`server`) → `34352`  
   - Database (`mongo`) → `34357`  
   - …и так далее

2. Использовать префикс проекта, а затем назначать последовательные роли  
   - Для `"cfetch"` берём `3435` как основу  
   - Web → `34351`  
   - Backend → `34352`  
   - Database → `34353`  
   - …и так далее

### Диапазон допустимых портов

- Порты должны находиться в пределах **0–65535**.
- Для пользовательских сервисов обычно лучше использовать диапазон **1024–49151** (не зарезервированные) или **49152–65535** (частные/динамические).
- Пока полученное число не превышает лимит, оно считается допустимым.

---

## Как использовать

```bash
npx @lionad/port-key <your-project-name>
```

### Параметры CLI

- `-m, --map <object>`: пользовательское сопоставление (JSON или объект в виде JS)
- `--lang <code>`: язык вывода (в данный момент только `en` и `cn`, по умолчанию: `cn`)
- `-d, --digits <count>`: желаемое количество цифр в порте (4 или 5, по умолчанию: 4)
- `-h, --help`: показать справку

Примеры:

```bash
npx @lionad/port-key cfetch # -> 3435
npx @lionad/port-key cfetch --digits 4  # -> 3435 (порт из 4 цифр)
npx @lionad/port-key cfetch --digits 5  # -> 34353 (порт из 5 цифр)
```

Примечания:
- Язык вывода по умолчанию – `cn`. Чтобы увидеть сообщения на английском, используйте `--lang en`.
- Для справки используйте `-h` или `--help`.

### Конфигурация

PortKey читает необязательную пользовательскую конфигурацию из:

- `~/.port-key/config.json`

Полный пример:

```json
{
  // Предпочитаемое количество цифр в порте (4 или 5)
  "preferDigitCount": 5,
  // Пользовательское сопоставление буква‑цифра
  "blockedPorts": [3000, 3001, 3002, 6666],
  // Ограничения диапазона портов (включительно)
  "minPort": 1024,
  "maxPort": 49151
}
```

---

## Для разработчиков

### Структура проекта

- Этот репозиторий использует монорепозиторий pnpm; ядро находится в `packages/core`.
- Установка: выполните `pnpm install` в корневой директории.
- Запуск тестов: `pnpm -C packages/core test` или `pnpm -C packages/core test:watch`.
