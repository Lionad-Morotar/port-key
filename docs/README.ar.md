<!-- Auto Generated - Do Not Edit -->
# PortKey

<p align="center">
  <img width="200" src="/public/logo.png" />
</p>

<p align="center">
  <strong>PortKey: إستراتيجية بسيطة وعملية لتسمية المنافذ</strong>
</p>

<p align="center">
  <!-- LANGUAGES=("cn" "es" "fr" "de" "ja" "ko" "ru" "ar" "pt" "it") -->
  <a href="./docs/README.cn.md">中文</a> | <a href="./docs/README.es.md">Español</a> | <a href="./docs/README.fr.md">Français</a> | <a href="./docs/README.de.md">Deutsch</a> | <a href="./docs/README.ja.md">日本語</a> | <a href="./docs/README.ko.md">한국어</a> | <a href="./docs/README.ru.md">Русский</a> | <a href="./docs/README.ar.md">العربية</a> | <a href="./docs/README.pt.md">Português</a> | <a href="./docs/README.it.md">Italiano</a>
</p>

## نبذة

إنشاء منافذ بناءً على خريطة الحروف إلى أرقام لوحة المفاتيح  

عند تشغيل مجموعة من المشاريع محليًا، يصبح اختيار أرقام المنافذ أمرًا مزعجًا.

- خلال السنوات القليلة الماضية، ظهرت *العديد* من المشاريع الجديدة. لتجربتها غالبًا ما تحتاج إلى تشغيلها محليًا، ثم تبدأ المنافذ في التعارض.
- إذا أردت الحفاظ على استقرار علامات تبويب المتصفح (أو الإشارات المرجعية)، يجب ألا يتغير منفذ المشروع باستمرار.

على سبيل المثال، لدي أكثر من عشر تطبيقات Nuxt على جهازي. إذا كان جميعها يستخدم المنفذ الافتراضي `3000`، فستواجه مشكلة واضحة. لذا طورت قاعدة تسمية منفذ بسيطة ومتسقة "تُعيّن" المنافذ لكل مشروع.

[مقال المدونة المصدر](https://lionad.art/articles/simple-naming-method)

### الفكرة الأساسية

بدلاً من اختيار أرقام عشوائية، قم بتحويل **اسم المشروع إلى أرقام بناءً على تخطيط لوحة المفاتيح**، بحيث يكون المنفذ *قابلًا للقراءة* و*سهل التذكر*.

طالما أن النتيجة تقع ضمن نطاق المنافذ الصالح (**1024–65535**) ولا تصطدم بالمنافذ المحجوزة/النظامية، يمكنك استخدامها مباشرة.

بشكل أكثر تحديدًا: باستخدام لوحة مفاتيح QWERTY القياسية، خريطة كل حرف إلى رقم واحد وفقًا لموقعه **في الصف/العمود**.

مثال:

`"cfetch"` → `c(3) f(4) e(3) t(5) c(3) h(6)` → `34353`（رقم المنفذ）

ثم يمكنك أخذ أول 4 أرقام (مثلاً `3453`)، أو الإبقاء على المزيد من الأرقام (مثلًا `34353`). كلاهما مقبول.

إذا احتاج المشروع إلى عدة منافذ (واجهة أمامية، خلفية، قاعدة بيانات، إلخ)، اختر **واحدًا** من الطريقتين التاليتين:

1. استخدم بادئة المشروع، ثم أضف "لاحقة الدور"  
   - بالنسبة إلى `"cfetch"`، خذ `3435` كأساس  
   - الواجهة الأمامية (`fe` أي `43`) → `34354`  
   - الخلفية (`server`) → `34352`  
   - قاعدة البيانات (`mongo`) → `34357`  
   - …وهكذا  

2. استخدم بادئة المشروع، ثم خصص أدوارًا متسلسلة  
   - بالنسبة إلى `"cfetch"`، خذ `3435` كأساس  
   - الويب → `34351`  
   - الخلفية → `34352`  
   - قاعدة البيانات → `34353`  
   - …وهكذا  

### نطاق المنافذ الصالح

- يجب أن تكون المنافذ ضمن **1024–65535** (المنافذ النظامية 0-1023 محجوبة).
- **المنافذ النظامية (0‑1023)**: تُخصص من قبل IETF. محجوبة تمامًا.
- **منافذ المستخدم (1024‑49151)**: تُخصص من قبل IANA. استخدم بحذر لأنها قد تتصادم مع خدمات مسجلة.
- **المنافذ الديناميكية/الخاصّة (49152‑65535)**: غير مخصصة. أكثر أمانًا للاستخدام الخاص أو الديناميكي.

---

## طريقة الاستخدام

أمر بسيط:

```sh
npx -y @lionad/port-key <your-project-name>
```

أو إذا كنت تريد خادم MCP عبر الـ stdio:

```sh
npx -y @lionad/port-key-mcp
```

```json
{
  "mcpServers": {
    "port-key": {
      "command": "npx",
      "args": ["@lionad/port-key-mcp"]
    }
  }
}
```

### خيارات سطر الأوامر

- `-m, --map <object>`: خريطة مخصصة (JSON أو كائن شبيه بـ JS)
- `--lang <code>`: لغة الإخراج (حاليًا فقط `en` و `cn`، الافتراضي: `cn`)
- `-d, --digits <count>`: عدد الأرقام المفضلة للمنفذ (4 أو 5، الافتراضي: 4)
- `--padding-zero <true|false>`: إضافة صفر للمنفذ القصير (الافتراضي: true). مثال: `"air"` → `1840`
- `-h, --help`: إظهار المساعدة

أمثلة:

```bash
npx @lionad/port-key cfetch # -> 3435
npx @lionad/port-key cfetch --digits 4  # -> 3435 (منفذ من 4 أرقام)
npx @lionad/port-key cfetch --digits 5  # -> 34353 (منفذ من 5 أرقام)
```

ملاحظة:
- لغة السجل الافتراضية هي `cn`. استخدم `--lang en` لعرض الرسائل باللغة الإنجليزية.
- استخدم `-h` أو `--help` لإظهار المساعدة.

### الإعدادات

يقرأ PortKey إعدادات المستخدم الاختيارية من:

- `~/.port-key/config.json`

مثال كامل:

```json
{
  // عدد الأرقام المفضلة للمنفذ (4 أو 5)
  "preferDigitCount": 5,
  // إضافة صفر للمنفذ القصير (الافتراضي: true)
  "paddingZero": true,
  // خريطة حرف إلى رقم مخصصة
  "blockedPorts": [3000, 3001, 3002, 6666],
  // حدود نطاق المنافذ (شاملة)
  "minPort": 1024,
  "maxPort": 49151
}
```

---

## للمطورين

### بنية المشروع

- هذا المستودع يستخدم monorepo عبر pnpm؛ الحزمة الأساسية تقع في `packages/core`.
- التثبيت: نفّذ `pnpm install` في جذر المشروع.
- تشغيل الاختبارات: `pnpm -C packages/core test` أو `pnpm -C packages/core test:watch`.
