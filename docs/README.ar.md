<!-- Auto Generated - Do Not Edit -->
# PortKey

<p align="center">
  <img width="200" src="/public/logo.png" />
</p>

<p align="center">
  <strong>PortKey：استراتيجية تسمية منافذ بسيطة وعملية</strong>
</p>

<p align="center">
  <!-- LANGUAGES=("cn" "es" "fr" "de" "ja" "ko" "ru" "ar" "pt" "it") -->
  <a href="./docs/README.cn.md">中文</a> | <a href="./docs/README.es.md">Español</a> | <a href="./docs/README.fr.md">Français</a> | <a href="./docs/README.de.md">Deutsch</a> | <a href="./docs/README.ja.md">日本語</a> | <a href="./docs/README.ko.md">한국어</a> | <a href="./docs/README.ru.md">Русский</a> | <a href="./docs/README.ar.md">العربية</a> | <a href="./docs/README.pt.md">Português</a> | <a href="./docs/README.it.md">Italiano</a>
</p>

## ملخص

إنشاء المنافذ باستخدام خريطة من الحروف إلى الأرقام على لوحة المفاتيح

عند تشغيل مجموعة من المشاريع محليًا، يصبح اختيار أرقام المنافذ أمرًا مزعجًا.

- خلال السنوات القليلة الماضية، ظهرت *الكثير* من المشاريع الجديدة. لتجربتها، غالبًا ما تحتاج إلى تشغيلها محليًا—ثم تبدأ المنافذ في التعارض.
- إذا أردت الحفاظ على استقرار علامات التبويب (أو الإشارات) في المتصفح، يجب ألا يتغير منفذ المشروع باستمرار.

على سبيل المثال، لدي أكثر من عشرة تطبيقات Nuxt على جهازّي. إذا كان كلٌ منها يستخدم المنفذ الافتراضي `3000`، فهذا واضح أنه لن ينجح. لذا وجدت قاعدة بسيطة ومتسقة لتسمية المنافذ بحيث "تخصص" منفذًا لكل مشروع.

[مقال المدونة الأصلي](https://lionad.art/articles/simple-naming-method)

### الفكرة الأساسية

بدلاً من اختيار أرقام عشوائية، قم بربط **اسم المشروع بالأرقام بناءً على لوحة المفاتيح**، بحيث يكون المنفذ *قابلًا للقراءة* و*سهل التذكر*.

طالما أن النتيجة تقع ضمن نطاق المنافذ الصالح (**0–65535**) ولا تصطدم بالمنافذ المحجوزة/النظامية، يمكنك استخدامه مباشرة.

بشكل أكثر تحديدًا: باستخدام لوحة مفاتيح QWERTY قياسية، اربط كل حرف رقمًا واحدًا بناءً على **موقعه في الصف/العمود**.

مثال:

`"cfetch"` → `c(3) f(4) e(3) t(5) c(3) h(6)` → `34353`（رقم المنفذ）

ثم يمكنك أخذ أول 4 أرقام (مثلًا `3453`)، أو الاحتفاظ بالمزيد من الأرقام (مثلًا `34353`). كلا الخيارين مقبولان.

إذا كان المشروع يحتاج إلى عدة منافذ (واجهة أمامية، خلفية، قاعدة بيانات، إلخ)، اختر **أحد الطريقتين** التاليتين:

1. استخدم بادئة المشروع، ثم أضف لاحقة "دور"  
   - بالنسبة إلى `"cfetch"`، خذ `3435` كقاعدة  
   - الواجهة الأمامية (`fe`، أي `43`) → `34354`  
   - الخلفية (`server`) → `34352`  
   - قاعدة البيانات (`mongo`) → `34357`  
   - … وهكذا

2. استخدم بادئة المشروع، ثم خصص أدوارًا متسلسلة  
   - بالنسبة إلى `"cfetch"`، خذ `3435` كقاعدة  
   - الويب → `34351`  
   - الخلفية → `34352`  
   - قاعدة البيانات → `34353`  
   - … وهكذا

### نطاق المنافذ الصالح

- يجب أن تكون المنافذ ضمن **0–65535**.
- للخدمات المخصصة، من الأفضل عادةً استخدام النطاق **1024–49151** (غير محجوز) أو **49152–65535** (خاص/ديناميكي).
- طالما أن الرقم المحوَّل يبقى تحت الحد، فهو صالِح.

---

## كيفية الاستخدام

```bash
npx @lionad/port-key <اسم-مشروعك>
```

### خيارات سطر الأوامر

- `-m, --map <object>`: خريطة مخصصة (JSON أو كائن شبيه بـ JS)
- `--lang <code>`: لغة الإخراج (حالياً فقط `en` و`cn`، الافتراضي: `cn`)
- `-d, --digits <count>`: عدد الأرقام المفضلة للمنفذ (4 أو 5، الافتراضي: 4)
- `-h, --help`: عرض المساعدة

أمثلة:

```bash
npx @lionad/port-key cfetch # -> 3435
npx @lionad/port-key cfetch --digits 4  # -> 3435 (منفذ مكوّن من 4 أرقام)
npx @lionad/port-key cfetch --digits 5  # -> 34353 (منفذ مكوّن من 5 أرقام)
```

ملاحظة:
- لغة السجل الافتراضية هي `cn`. استخدم `--lang en` لعرض الرسائل الإنجليزية.
- استخدم `-h` أو `--help` لإظهار المساعدة.

### الإعدادات

يقرأ PortKey إعدادات المستخدم الاختيارية من:

- `~/.port-key/config.json`

مثال كامل:

```json
{
  // عدد الأرقام المفضلة للمنفذ (4 أو 5)
  "preferDigitCount": 5,
  // خريطة مخصصة من الحرف إلى الرقم
  "blockedPorts": [3000, 3001, 3002, 6666],
  // حدود نطاق المنافذ (شامل)
  "minPort": 1024,
  "maxPort": 49151
}
```

---

## للمطورين

### هيكل المشروع

- يستخدم هذا المستودع بنية monorepo عبر pnpm؛ الحزمة الأساسية موجودة في `packages/core`.
- التثبيت: نفّذ `pnpm install` في الدليل الجذر.
- تشغيل الاختبارات: `pnpm -C packages/core test` أو `pnpm -C packages/core test:watch`.
